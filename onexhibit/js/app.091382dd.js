(function(t){function e(e){for(var n,o,c=e[0],i=e[1],l=e[2],f=0,d=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,c=1;c<a.length;c++){var i=a[c];0!==r[i]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=i;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"294d":function(t,e,a){"use strict";a("9ea8")},3358:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-main",[a("About"),a("Visualizations"),a("Footer")],1),a("div",{attrs:{id:"tooltip"}})],1)],1)},s=[],o=a("5530"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{id:"about"}},[a("v-row",{staticClass:"text-center mt-4",attrs:{justify:"center"}},[a("v-col",{staticClass:"mt-2 pa-0",attrs:{cols:"12"}},[a("h1",{staticClass:" mb-3"},[t._v(" On Exhibit: "),a("span",[t._v("What's in the Smithsonian?")])])]),a("v-col",{staticClass:"mt-0 mb-10",attrs:{cols:"12",xs:"8",md:"8",lg:"7"}},[a("p",{staticClass:"font-weight-regular"},[t._v(" This project visualizes all Open Access artifacts that are on exhibit in any of the museums part of the Smithsonian Institution. The data and images are from the Smithsonian API, and include only the items with CC0 license. As of November 3rd, 2021, this search yields over 3300 results, spanning 3000BCE - 2010s. ")]),a("p",{staticClass:"font-weight-regular mb-12"},[t._v(" I wanted to focus on the items that are exhibited, digitalized and part of the open access API, as this gives an interesting perspective on the restrictions museums face in making their collections more accessible to the public. I also wanted to create, in a way, an online tour of the available artifacts in each museum - users can choose a museum to explore with a dropdown, and see everything available in that museum (based on the data in the API) chronologically. This not only allows users to see the subset of artifacts that are displayed in the physical space of the museums, but also get to explore virtually a subset of these same artifacts, effectively creating an online tour of the museum - something ever more important in the times of COVID where a lot constraints exist on public gatherings. ")])])],1)],1)},i=[],l={name:"About",data:function(){return{}}},u=l,f=(a("c45f"),a("2877")),d=a("6544"),p=a.n(d),m=a("62ad"),h=a("a523"),v=a("0fd9"),g=Object(f["a"])(u,c,i,!1,null,"5f111495",null),b=g.exports;p()(g,{VCol:m["a"],VContainer:h["a"],VRow:v["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{staticStyle:{background:"#ddd"},attrs:{padless:""}},[a("v-col",{staticClass:"text-left",staticStyle:{"font-size":"9pt"},attrs:{cols:"6"}},[t._v(" MSDV ")]),a("v-col",{staticClass:"text-right",staticStyle:{"font-size":"9pt"},attrs:{cols:"6"}},[t._v(" © "),a("a",{attrs:{href:"mailto:yoana.kosturska@gmail.com"}},[t._v("Yoana Kosturska")]),t._v(" - "+t._s((new Date).getFullYear())+" ")])],1)},x=[],w={name:"Footer"},O=w,j=(a("294d"),a("553a")),_=Object(f["a"])(O,y,x,!1,null,null,null),k=_.exports;p()(_,{VCol:m["a"],VFooter:j["a"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"min-height":"100vh"}},[a("Overview"),a("DropdownFilter"),a("Beeswarm")],1)},M=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"object"===typeof t.filters?a("v-row",{staticClass:"ma-0 pa-0 mt-4",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"8"}},[a("v-combobox",{attrs:{items:t.filters,"item-text":"label","item-value":"value",label:"Select a museum","item-color":"blue lighten-3",color:"grey",single:"","return-object":""},scopedSlots:t._u([{key:"item",fn:function(e){return[a("v-icon",{attrs:{small:""}},[t._v("mdi-bank")]),t._v("  "+t._s(e.item.label)+" "),a("v-spacer"),t._v("   ("+t._s(e.item.count)+") ")]}}],null,!1,3171250163),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1):t._e()},D=[],V=a("c46f"),S=a("2f62"),E={name:"DropdownFilter",computed:Object(o["a"])(Object(o["a"])({},Object(S["d"])(["filters","selectedMuseum"])),Object(S["b"])(["getMuseumData"])),data:function(){return{selected:Object}},watch:{selected:function(t){this.updateSelectedMuseum(t)}},mounted:function(){this.selected={label:"National Postal Museum",value:"national_postal_museum",count:879}},methods:Object(o["a"])({},Object(S["c"])(["updateSelectedMuseum"]))},B=E,F=a("2b5d"),z=a("132d"),P=a("2fa4"),T=Object(f["a"])(B,A,D,!1,null,null,null),Y=T.exports;p()(T,{VCol:m["a"],VCombobox:F["a"],VIcon:z["a"],VRow:v["a"],VSpacer:P["a"]});var $=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.getMuseumData&&t.getMuseumData.length?a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"8"}},[a("h3",{staticClass:"mt-10"},[t._v(t._s(t.selectedMuseum.label)+" "),a("br"),t._v(" "+t._s(t.selectedMuseum.count)+" Artifacts")])])],1):t._e(),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",xs:"12",md:"12",lg:"10",xl:"7"}},[a("div",{staticClass:"svg-container",attrs:{id:"viz"}})])],1)],1)},I=[],R=a("2909"),X=(a("4de4"),a("4e82"),a("99af"),a("5698")),q={name:"plot",props:[],computed:Object(o["a"])(Object(o["a"])({},Object(S["d"])(["selectedMuseum"])),Object(S["b"])(["getMuseumData"])),data:function(){return{}},watch:{getMuseumData:function(){this.render()}},mounted:function(){this.getMuseumData&&this.getMuseumData.length&&this.render()},methods:{fillMissingYears:function(t){var e=[],a=[],n=[],r=X["j"](t),s=X["i"](t);r<0?(r-=200,s+=20):r<1580?(r-=100,s+=20):(r-=20,s+=20);while(s>r)r<0?(e.push(r),r+=r<0?500:10):r<=1580?(a.push(r),r+=100):(n.push(r),r+=10);return[e,a,n]},makeAxisTicks:function(t,e){var a=V["a"](t).pluck("date").pluck("label").uniq().sortBy().value(),n=e[0],r=e[e.length-1],s=e.filter((function(t,e){return e%4===0}));return-1===a.indexOf(n)&&a.push(n),-1===a.indexOf(r)&&a.push(r),V["f"]([].concat(Object(R["a"])(a),Object(R["a"])(s))).sort()},render:function(){var t=this;console.log("Draw beeswarm"),X["p"]("#viz svg").remove();var e=Object(R["a"])(this.getMuseumData),a=V["a"](e).pluck("date").pluck("label").uniq().sortBy().value();a=this.fillMissingYears(a),V["c"](a,(function(a){var n=V["d"](e,(function(t){var e=t.date.label;return e>=a[0]&&e<=a[a.length-1]}));if(n.length){var r=t.makeAxisTicks(n,a),s=0;s=n.length>100?n.length*r.length:n.length<20?600:1500,t.drawTimeline(a,s,r,n)}}))},drawTimeline:function(t,e,a,n){var r=this,s={top:100,right:100,bottom:50,left:100},o=e,c=1e3,i=(X["q"]("%Q"),c+s.left+s.right),l=o+s.top+s.bottom,u=X["o"]("#viz").append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(i," ").concat(l)).classed("svg-content",!0).append("g").attr("transform","translate("+s.left+","+s.top+")"),f=X["d"](t,(function(t){return t})).reverse(),d=X["l"]().domain(f).range([o,0]),p=f[1]<0?"".concat(-f[1]," BCE"):"".concat(f[1]," AD"),m=f[0]<0?"".concat(-f[0]," BCE"):"".concat(f[0]," AD"),h="Artifacts on exhibit between ".concat(p," and ").concat(m),v=(u.append("g").attr("class","title").append("text").attr("x",c/h.length*11).attr("y",-60).style("font-size","16pt").style("font-weight",300).text(h.toUpperCase()),X["b"](d).tickValues([]).tickFormat((function(t,e){return t<0?"".concat(-t," BCE"):"".concat(t," AD")})).tickSizeOuter(0));u.append("g").call(v).attr("stroke","#ddd").attr("stroke-width","1px").style("opacity",.3).attr("stroke-dasharray","1, 1").style("transform","translateX(".concat(c/2,"px"));var g=15,b=X["b"](d).tickValues(a).tickFormat((function(t,e){return t<0?"".concat(-t," BCE"):"".concat(t," AD")}));u.append("g").attr("class","axis").call(b).call((function(t){return t.selectAll("path").remove()})).style("transform","translateX(".concat(g,"px"));var y=X["c"](d).tickValues(a).tickFormat((function(t,e){return t<0?"".concat(-t," BCE"):"".concat(t," AD")}));u.append("g").attr("class","axis").call(y).call((function(t){return t.selectAll("path").remove()})).style("transform","translateX(".concat(c-g,"px")),u.selectAll().data(a).enter().append("line").attr("x1",(function(t){return 0})).attr("x2",c).attr("y1",(function(t){return d(t)})).attr("y2",(function(t){return d(t)})).attr("stroke","#999").attr("stroke-dasharray","2, 2").style("opacity",.7);for(var x=X["f"](n).force("forceY",X["h"]((function(t){return d(t.dateClean)})).strength(1)).force("forceX",X["g"](c/2).strength(.9)).force("collide",X["e"](21)).stop(),w=500,O=0;O<w;++O)x.tick();x.stop();var j=u.append("g").attr("class","nodes").selectAll("g.node").data(n),_=j.enter().append("g").attr("class","node").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"}));_.append("pattern").attr("id",(function(t){return t.id})).attr("height","30px").attr("width","30px").append("image").attr("class","image thumb").attr("xlink:href",(function(t){return"images/thumb_".concat(t.media[0],".jpeg")})).attr("width","200px").attr("height","200px").attr("x",-78).attr("y",-80).style("opacity",.8),_.append("a").attr("xlink:href",(function(t){return t.record_link})).attr("target","_blank").append("circle").attr("class","shadow circle").attr("r",(function(t){return 20})).attr("fill",(function(t){return"url(#"+t.id+")"})).on("mouseover",(function(t,e){return r.mouseover(t,e)})).on("mouseout",(function(){X["p"]("#viz circle").attr("stroke","none"),X["o"]("#tooltip").style("display","none")})).on("click",(function(t,e){return r.activeCell=e}))},mouseover:function(t,e){var a=X["o"]("#tooltip").node().getBoundingClientRect().height,n='\n            <div class="align-center justify-center">\n                <img src="images/thumb_'.concat(e.media[0],'.jpeg" class="thumb" alt="musuem image">\n            </div>\n            ').concat(e.date.source,"<br><span class='artifact-title'>").concat(e.title,"</span>");X["p"]("#viz circle").attr("stroke","none"),X["o"](t.srcElement).attr("stroke","#999"),X["o"]("#tooltip").style("display","block").style("left",t.pageX+20+"px").style("top",t.pageY-a/2+"px").html(n)}}},J=q,N=(a("f61e"),Object(f["a"])(J,$,I,!1,null,null,null)),K=N.exports;p()(N,{VCol:m["a"],VRow:v["a"]});var Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"mb-12 pb-12",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"10",xs:"12",md:"12",lg:"12",xl:"12"}},[a("div",{staticClass:"svg-container",attrs:{id:"overview"}})])],1)},U=[],W={name:"Overview",props:[],computed:Object(o["a"])(Object(o["a"])({},Object(S["d"])(["data"])),Object(S["b"])(["getOverviewData"])),data:function(){return{}},watch:{getOverviewData:function(){this.render()}},mounted:function(){this.getOverviewData.length&&this.render()},methods:{render:function(){X["p"]("#overview svg").remove();var t=Object(R["a"])(this.getOverviewData),e=V["e"](t,"museum").sort((function(t,e){return t>e?-1:1})),a=V["e"](t,"year");a=this.fillMissingYears(a);var n={top:10,right:10,bottom:40,left:450},r=300,s=1500,o=s+n.left+n.right,c=r+n.top+n.bottom,i=X["o"]("#overview").append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(o," ").concat(c)).classed("svg-content",!0).append("g").attr("transform","translate("+n.left+","+n.top+")");if(a.length&&e.length){var l=X["k"]().domain(e).range([r,0]).paddingOuter([.25]).paddingInner([.5]),u=X["b"](l);i.append("g").attr("class","y-axis").call(u);var f=X["k"]().domain(a).range([0,s]),d=X["a"](f);i.append("g").attr("class","x-axis").call(d).call((function(t){return t.selectAll(".tick text").text((function(t){return t+"s"}))})).call((function(t){return t.selectAll(".tick text").text((function(t,e){return e%2!=0?"":t<0?"".concat(-t,"BCE"):"".concat(t)}))})).attr("transform","translate(0, ".concat(r,")"));X["m"](X["n"]).domain(e),i.selectAll("rect").data(t).enter().append("rect").attr("x",(function(t){return f(t.year)})).attr("y",(function(t){return l(t.museum)})).attr("width",20).attr("height",10).attr("fill",(function(t){return"#333"}))}},fillMissingYears:function(t){var e=[],a=X["j"](t),n=X["i"](t);a-=a<0?1e3:a<1500?100:10;while(n>a)a+=a<0?1e3:a<1500?100:10,e.push(a);return e}}},G=W,H=(a("9c45"),Object(f["a"])(G,Q,U,!1,null,null,null)),L=H.exports;p()(H,{VCol:m["a"],VRow:v["a"]});var Z={name:"Visualizations",components:{DropdownFilter:Y,Beeswarm:K,Overview:L},data:function(){return{}}},tt=Z,et=Object(f["a"])(tt,C,M,!1,null,null,null),at=et.exports;p()(et,{VContainer:h["a"]});var nt={name:"App",components:{About:b,Footer:k,Visualizations:at},computed:Object(o["a"])({},Object(S["d"])(["filters"])),data:function(){return{}},watch:{},created:function(){this.$store.dispatch("fetchFilters"),this.$store.dispatch("fetchData")},methods:{}},rt=nt,st=(a("cf25"),a("7496")),ot=a("f6c4"),ct=Object(f["a"])(rt,r,s,!1,null,null,null),it=ct.exports;p()(ct,{VApp:st["a"],VContainer:h["a"],VMain:ot["a"]});a("d81d");var lt=a("bc3a"),ut=a.n(lt);n["a"].use(S["a"]);var ft=new S["a"].Store({state:{filters:Object,selectedMuseum:Object,data:Object},mutations:{saveFilters:function(t,e){t.filters=e.filters},updateSelectedMuseum:function(t,e){t.selectedMuseum=e},saveData:function(t,e){t.data=e.data}},getters:{getOverviewData:function(t){var e=V["b"].chain(t.data).groupBy("museum").map((function(t,e){return{museum:e,years:V["b"].uniq(V["b"].pluck(t,"dateClean"))}})).map((function(t){return V["b"].map(t.years,(function(e){return{museum:t.museum,year:e}}))})).flatten().value();return e},getMuseumData:function(t){if(Array.isArray(t.data))return V["b"].chain(t.data).filter((function(e){return e.museum===t.selectedMuseum.label})).value()}},actions:{fetchFilters:function(t){var e=t.commit;return ut.a.get("data/filters.json").then((function(t){e("saveFilters",{filters:t.data,flag:!0})})).catch((function(t){console.log(t)}))},fetchData:function(t){var e=t.commit;return ut.a.get("data/formatted_data.json").then((function(t){e("saveData",{data:t.data,flag:!0})})).catch((function(t){console.log(t)}))}},modules:{}}),dt=a("f309");n["a"].use(dt["a"]);var pt=new dt["a"]({});n["a"].config.productionTip=!1,new n["a"]({store:ft,vuetify:pt,render:function(t){return t(it)}}).$mount("#app")},"9c45":function(t,e,a){"use strict";a("a933")},"9ea8":function(t,e,a){},a933:function(t,e,a){},c45f:function(t,e,a){"use strict";a("cc07")},cc07:function(t,e,a){},cf25:function(t,e,a){"use strict";a("fea6")},f61e:function(t,e,a){"use strict";a("3358")},fea6:function(t,e,a){}});