(function(t){function e(e){for(var n,s,c=e[0],o=e[1],l=e[2],f=0,d=[];f<c.length;f++)s=c[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2312:function(t,e,a){},"294d":function(t,e,a){"use strict";a("9ea8")},"2dca":function(t,e,a){},3358:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-main",[a("About"),a("Visualizations"),a("Footer")],1),a("div",{attrs:{id:"tooltip"}})],1)],1)},i=[],s=a("5530"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{id:"about"}},[a("v-row",{staticClass:"text-center mt-4",attrs:{justify:"center"}},[a("v-col",{staticClass:"mt-2 pa-0",attrs:{cols:"12"}},[a("h1",{staticClass:" mb-3"},[a("span",[t._v("On Exhibit: ")]),a("span",[t._v("What's in the Smithsonian: the world's largest museum, education, and research complex?")])])]),a("v-col",{staticClass:"mt-0 mb-10",attrs:{cols:"12",xs:"8",sm:"10",md:"7",lg:"7",xl:"5"}},[a("p",{staticClass:"font-weight-regular"},[t._v(" This project visualizes all Open Access artifacts that are on exhibit in any of the museums part of the Smithsonian Institution. The data and images are from the Smithsonian API, and include only the items with CC0 license. As of November 3rd, 2021, this search yields over 3300 results, spanning 3000BCE - 2010s. ")]),a("p",{staticClass:"font-weight-regular"},[t._v(" I wanted to focus on the items that are exhibited, digitalized and part of the open access API, as this gives an interesting perspective on the restrictions museums face in making their collections more accessible to the public. In a way, I also wanted to create an online tour of the available artifacts in each museum. Users can choose a museum to explore and see everything available in that museum (based on the data in the API) chronologically. This not only allows users to see the subset of artifacts that are displayed in the physical space of the museums, but also get to explore virtually a subset of these same artifacts, effectively creating an online tour of the museum - something ever more important in the times of COVID where a lot of constraints exist on public gatherings. ")])])],1)],1)},o=[],l={name:"About",data:function(){return{}}},u=l,f=(a("fd0c"),a("2877")),d=a("6544"),p=a.n(d),h=a("62ad"),m=a("a523"),v=a("0fd9"),g=Object(f["a"])(u,c,o,!1,null,"0e2fdab8",null),b=g.exports;p()(g,{VCol:h["a"],VContainer:m["a"],VRow:v["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{staticStyle:{background:"#ddd"},attrs:{padless:""}},[a("v-col",{staticClass:"text-left",staticStyle:{"font-size":"9pt"},attrs:{cols:"6"}},[t._v(" Creator: Yoana Kosturska - MS Data Visualization, Parsons School of Design. "),a("a",{attrs:{href:"mailto:yoana.kosturska@gmail.com"}},[t._v("Contact")])]),a("v-col",{staticClass:"text-right",staticStyle:{"font-size":"9pt"},attrs:{cols:"6"}},[t._v(" © "),a("a",{attrs:{href:"mailto:yoana.kosturska@gmail.com"}},[t._v("Yoana Kosturska")]),t._v(" - "+t._s((new Date).getFullYear())+" ")])],1)},x=[],w={name:"Footer"},k=w,j=(a("294d"),a("553a")),_=Object(f["a"])(k,y,x,!1,null,null,null),C=_.exports;p()(_,{VCol:h["a"],VFooter:j["a"]});var O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"min-height":"100vh"}},[a("v-row",{staticClass:"mb-12",attrs:{justify:"center"}},[a("v-btn-toggle",{attrs:{mandatory:"",rounded:""},model:{value:t.activeView,callback:function(e){t.activeView=e},expression:"activeView"}},[a("v-btn",{attrs:{value:"overview",small:""}},[t._v(" Overview ")]),a("v-btn",{attrs:{value:"timelines",small:""}},[t._v(" View the Timeline ")])],1)],1),"timelines"===t.activeView?a("DropdownFilter"):t._e(),"timelines"===t.activeView?a("Beeswarm"):t._e(),"overview"===t.activeView?a("Timelines"):t._e()],1)},M=[],S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"object"===typeof t.filters?a("v-row",{staticClass:"ma-0 pa-0 mt-4",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"8"}},[a("v-combobox",{attrs:{items:t.filters,"item-text":"label","item-value":"value",label:"Select a museum","item-color":"blue lighten-3",color:"grey",single:"","return-object":""},scopedSlots:t._u([{key:"item",fn:function(e){return[a("v-icon",{attrs:{small:""}},[t._v("mdi-bank")]),t._v("  "+t._s(e.item.label)+" "),a("v-spacer"),t._v("   ("+t._s(e.item.count)+") ")]}}],null,!1,3171250163),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1):t._e()},A=[],V=a("c46f"),D=a("2f62"),B={name:"DropdownFilter",computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])(["filters","selectedMuseum"])),Object(D["b"])(["getMuseumData"])),data:function(){return{selected:Object}},watch:{selected:function(t){this.updateSelectedMuseum(t)}},mounted:function(){this.selected={label:"National Postal Museum",value:"national_postal_museum",count:879}},methods:Object(s["a"])({},Object(D["c"])(["updateSelectedMuseum"]))},T=B,z=a("2b5d"),E=a("132d"),F=a("2fa4"),P=Object(f["a"])(T,S,A,!1,null,null,null),I=P.exports;p()(P,{VCol:h["a"],VCombobox:z["a"],VIcon:E["a"],VRow:v["a"],VSpacer:F["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.getMuseumData&&t.getMuseumData.length?a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"8"}},[a("h3",{staticClass:"mt-10"},[t._v(t._s(t.selectedMuseum.label)+" "),a("br"),t._v(" "+t._s(t.selectedMuseum.count)+" Artifacts")])])],1):t._e(),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",xs:"12",md:"12",lg:"10",xl:"7"}},[a("div",{staticClass:"svg-container",attrs:{id:"viz"}})])],1)],1)},R=[],$=a("2909"),q=(a("4de4"),a("4e827"),a("99af"),a("5698")),X={name:"plot",props:[],computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])(["selectedMuseum"])),Object(D["b"])(["getMuseumData"])),data:function(){return{}},watch:{getMuseumData:function(){this.render()}},mounted:function(){this.getMuseumData&&this.getMuseumData.length&&this.render()},methods:{fillMissingYears:function(t){var e=[],a=[],n=[],r=q["j"](t),i=q["i"](t);r<0?(r-=200,i+=20):r<1580?(r-=100,i+=20):(r-=20,i+=20);while(i>r)r<0?(e.push(r),r+=r<0?500:10):r<=1580?(a.push(r),r+=100):(n.push(r),r+=10);return[e,a,n]},makeAxisTicks:function(t,e){var a=V["a"](t).pluck("date").pluck("label").uniq().sortBy().value(),n=e[0],r=e[e.length-1],i=e.filter((function(t,e){return e%4===0}));return-1===a.indexOf(n)&&a.push(n),-1===a.indexOf(r)&&a.push(r),V["h"]([].concat(Object($["a"])(a),Object($["a"])(i))).sort()},render:function(){var t=this;console.log("Draw beeswarm"),q["o"]("#viz svg").remove();var e=Object($["a"])(this.getMuseumData),a=V["a"](e).pluck("date").pluck("label").uniq().sortBy().value();a=this.fillMissingYears(a),V["c"](a,(function(a){var n=V["d"](e,(function(t){var e=t.date.label;return e>=a[0]&&e<=a[a.length-1]}));if(n.length){var r=t.makeAxisTicks(n,a),i=0;i=n.length>100?n.length*r.length:n.length<20?600:1500,t.drawTimeline(a,i,r,n)}}))},drawTimeline:function(t,e,a,n){var r=this,i={top:100,right:100,bottom:50,left:100},s=e,c=1e3,o=(q["p"]("%Q"),c+i.left+i.right),l=s+i.top+i.bottom,u=q["n"]("#viz").append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(o," ").concat(l)).classed("svg-content",!0).append("g").attr("transform","translate("+i.left+","+i.top+")"),f=q["d"](t,(function(t){return t})).reverse(),d=q["m"]().domain(f).range([s,0]),p=f[1]<0?"".concat(-f[1]," BCE"):"".concat(f[1]," AD"),h=f[0]<0?"".concat(-f[0]," BCE"):"".concat(f[0]," AD"),m="Artifacts on exhibit between ".concat(p," and ").concat(h),v=(u.append("g").attr("class","title").append("text").attr("x",c/m.length*11).attr("y",-60).style("font-size","16pt").style("font-weight",300).text(m.toUpperCase()),q["b"](d).tickValues([]).tickFormat((function(t,e){return t<0?"".concat(-t," BCE"):"".concat(t," AD")})).tickSizeOuter(0));u.append("g").call(v).attr("stroke","#ddd").attr("stroke-width","1px").style("opacity",.3).attr("stroke-dasharray","1, 1").style("transform","translateX(".concat(c/2,"px"));var g=15,b=q["b"](d).tickValues(a).tickFormat((function(t,e){return t<0?"".concat(-t," BCE"):"".concat(t," AD")}));u.append("g").attr("class","axis").call(b).call((function(t){return t.selectAll("path").remove()})).style("transform","translateX(".concat(g,"px"));var y=q["c"](d).tickValues(a).tickFormat((function(t,e){return t<0?"".concat(-t," BCE"):"".concat(t," AD")}));u.append("g").attr("class","axis").call(y).call((function(t){return t.selectAll("path").remove()})).style("transform","translateX(".concat(c-g,"px")),u.selectAll().data(a).enter().append("line").attr("x1",(function(t){return 0})).attr("x2",c).attr("y1",(function(t){return d(t)})).attr("y2",(function(t){return d(t)})).attr("stroke","#999").attr("stroke-dasharray","2, 2").style("opacity",.7);for(var x=q["f"](n).force("forceY",q["h"]((function(t){return d(t.dateClean)})).strength(1)).force("forceX",q["g"](c/2).strength(.9)).force("collide",q["e"](21)).stop(),w=500,k=0;k<w;++k)x.tick();x.stop();var j=u.append("g").attr("class","nodes").selectAll("g.node").data(n),_=j.enter().append("g").attr("class","node").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"}));_.append("pattern").attr("id",(function(t){return t.id})).attr("height","30px").attr("width","30px").append("image").attr("class","image thumb").attr("xlink:href",(function(t){return"images/thumb_".concat(t.media[0],".jpeg")})).attr("width","200px").attr("height","200px").attr("x",-78).attr("y",-80).style("opacity",.8),_.append("a").attr("xlink:href",(function(t){return t.record_link})).attr("target","_blank").append("circle").attr("class","shadow circle").attr("r",(function(t){return 20})).attr("fill",(function(t){return"url(#"+t.id+")"})).on("mouseover",(function(t,e){return r.mouseover(t,e)})).on("mouseout",(function(){q["o"]("#viz circle").attr("stroke","none"),q["n"]("#tooltip").style("display","none")})).on("click",(function(t,e){return r.activeCell=e}))},mouseover:function(t,e){var a=q["n"]("#tooltip").node().getBoundingClientRect().height,n='\n            <div class="align-center justify-center">\n                <img src="images/thumb_'.concat(e.media[0],'.jpeg" class="thumb" alt="musuem image">\n            </div>\n            ').concat(e.date.source,"<br><span class='artifact-title'>").concat(e.title,"</span>");q["o"]("#viz circle").attr("stroke","none"),q["n"](t.srcElement).attr("stroke","#999"),q["n"]("#tooltip").style("display","block").style("left",t.pageX+20+"px").style("top",t.pageY-a/2+"px").html(n)}}},J=X,K=(a("f61e"),Object(f["a"])(J,Y,R,!1,null,null,null)),N=K.exports;p()(K,{VCol:h["a"],VRow:v["a"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"svg-container",attrs:{id:"viz"}})},Q=[],W=a("53ca"),G=(a("159b"),a("ac1f"),a("5319"),a("b0c0"),{name:"Timelines",props:[],computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(D["d"])(["data"])),Object(D["b"])(["getTimelinesData"])),{},{isReady:function(){return"object"===Object(W["a"])(this.getTimelinesData)}}),data:function(){return{svg:"",width:"",height:"",xScale:"",yScale:"",circleColor:"#101820",highlightCircleColor:"#009CDE"}},watch:{getTimelinesData:function(){this.isReady&&this.render()}},mounted:function(){this.isReady&&this.render()},methods:{render:function(){var t=this,e=Object($["a"])(this.getTimelinesData),a=Object($["a"])(this.data),n={top:100,right:100,bottom:50,left:450};this.height=1e3,this.width=1500;var r=this.width+n.left+n.right,i=this.height+n.top+n.bottom;this.svg=q["n"]("#viz").append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(r," ").concat(i)).classed("svg-content",!0).append("g").attr("transform","translate("+n.left+","+n.top+")");var s=V["a"](a).pluck("dateClean").uniq().sortBy().value();s=this.fillMissingYears(s);var c=V["a"](a).pluck("museum").uniq().sortBy().reverse().value();this.yScale=q["l"]().domain(c).range([this.height,0]).paddingOuter([.25]).paddingInner([.5]),this.xScale=q["l"]().domain(s).range([0,this.width]);var o=q["b"](this.yScale).tickSize(-this.width),l=q["a"](this.xScale);this.svg.append("g").attr("class","y-axis").call(o).call((function(t){return t.select(".domain").remove()})).call((function(t){return t.selectAll("line").attr("stroke","#999").attr("stroke-width",.5)})).call((function(t){return t.selectAll("text").attr("transform","translate(-20, 0)").style("font-size","12pt")})),this.svg.append("g").attr("class","x-axis").call(l).call((function(t){return t.selectAll(".tick text").text((function(t){return t+"s"}))})).call((function(t){return t.selectAll(".tick text").text((function(t,e){return e%2!=0?"":t<0?"".concat(-t,"BCE"):"".concat(t)}))})).attr("transform","translate(0, ".concat(this.height,")")),e.forEach((function(e){t.svg.append("g").attr("class",(function(){return e["name"].replace(/ /g,"_")})).attr("transform","translate(0, ".concat(t.yScale.bandwidth()/2,")")).selectAll("circle").data(e["data"]).enter().append("circle").attr("class",(function(t){return"circle year_".concat(t["year"])})).attr("cx",(function(e){return t.xScale(e["year"])})).attr("cy",(function(a){return t.yScale(e["name"])})).attr("r",(function(t){return Math.sqrt(20*t.size/Math.PI)})).attr("fill",t.circleColor).style("opacity",.7)})),this.bisector(e,a)},bisector:function(t,e){var a=this,n=this.svg.append("g").append("path").attr("class","mouse-line").style("stroke","black").style("stroke-width","1px").style("opacity","0").style("fill","none").attr("stroke","black").style("opacity",0);this.svg.append("rect").style("fill","none").style("pointer-events","all").attr("width",this.width).attr("height",this.height).on("mouseover",c).on("mousemove",(function(t){return l(t)})).on("mouseout",(function(t){return u(t)}));var r=this.svg.append("rect").attr("class","ttpBg").style("fill","#fff").style("pointer-events","none").attr("height",this.height).style("opacity",.85).style("display","none");function i(t){var a=V["a"](e).filter((function(e){return e["dateClean"]===t})).value(),n=!!a.length;return a=V["e"](a,"museum"),!!n&&a}var s=function(t,e,n){t&&V["f"](t,(function(t,r){var i=V["g"](t,8),s=a.svg.append("g").attr("class","images").selectAll("g.images").data(i);q["o"]("g.ttpTitle").remove(),n=n<0?"".concat(-n,"BCE"):n;a.svg.append("g").attr("class","ttpTitle").append("text").attr("x",e+20).attr("y",0).text("Sample of Artifacts in "+n);var c=s.enter().append("g").attr("class","image").attr("transform",(function(t){return"translate(".concat(e+20,", ").concat(a.yScale(t["museum"])+a.yScale.bandwidth()/2,")")}));c.append("pattern").attr("id",(function(t){return t.id})).attr("height","1px").attr("width","1px").append("image").attr("class","thumb").attr("xlink:href",(function(t){return"images/thumb_".concat(t.media[0],".jpeg")})).attr("width","80px").attr("height","80px").attr("x",-10).attr("y",-10),c.append("rect").attr("class","rect shadow").attr("width",(function(t){return 60})).attr("height",(function(t){return 60})).attr("x",(function(t,e){return 64*e})).attr("y",5-a.yScale.bandwidth()).attr("stroke","#ddd").attr("fill",(function(t){return"url(#"+t.id+")"}))}))};function c(){n.style("opacity",1)}function o(t){var e=t.domain(),a=-t(e[0]),n=t.step();return function(t){var r=Math.floor((t-a)/n);return e[Math.max(0,Math.min(r,e.length-1))]}}var l=function(t){q["o"]("g.images").remove(),q["o"]("g.ttpTitle").remove();var e=o(a.xScale)(q["k"](t)[0]);n.attr("d",(function(){var e="M"+q["k"](t)[0]+","+a.height;return e+=" "+q["k"](t)[0]+",0",e})),q["o"](".circle").attr("fill",a.circleColor),q["o"](".circle.year_".concat(e)).attr("fill",a.highlightCircleColor);var c=i(e),l=e<1650?q["k"](t)[0]:q["k"](t)[0]-a.width/1.8;c?r.style("display","block").attr("x",l).attr("width",a.width/1.8):r.style("display","none"),s(c,l,e)},u=function(){q["o"]("g.images").remove(),q["o"]("g.ttpTitle").remove(),q["o"](".circle").attr("fill",a.circleColor),n.style("opacity",0),r.style("display","none")}},fillMissingYears:function(t){var e=[],a=q["j"](t),n=q["i"](t);a-=a<0?1e3:a<1500?100:10;while(n>a)a+=a<0?1e3:a<1500?100:10,e.push(a);return e}}}),H=G,L=(a("e7b3"),Object(f["a"])(H,U,Q,!1,null,null,null)),Z=L.exports,tt={name:"Visualizations",components:{DropdownFilter:I,Beeswarm:N,Timelines:Z},data:function(){return{activeView:"overview"}}},et=tt,at=a("8336"),nt=a("a609"),rt=Object(f["a"])(et,O,M,!1,null,null,null),it=rt.exports;p()(rt,{VBtn:at["a"],VBtnToggle:nt["a"],VContainer:m["a"],VRow:v["a"]});var st={name:"App",components:{About:b,Footer:C,Visualizations:it},computed:Object(s["a"])({},Object(D["d"])(["filters"])),data:function(){return{}},watch:{},created:function(){this.$store.dispatch("fetchFilters"),this.$store.dispatch("fetchData")}},ct=st,ot=(a("cf25"),a("7496")),lt=a("f6c4"),ut=Object(f["a"])(ct,r,i,!1,null,null,null),ft=ut.exports;p()(ut,{VApp:ot["a"],VContainer:m["a"],VMain:lt["a"]});a("d81d");var dt=a("bc3a"),pt=a.n(dt);n["a"].use(D["a"]);var ht=new D["a"].Store({state:{filters:Object,selectedMuseum:Object,data:Object},mutations:{saveFilters:function(t,e){t.filters=e.filters},updateSelectedMuseum:function(t,e){t.selectedMuseum=e},saveData:function(t,e){t.data=e.data}},getters:{getTimelinesData:function(t){if(Array.isArray(t.data)){var e=V["b"].chain(t.data).groupBy("museum").map((function(t,e){var a=V["b"].chain(t).groupBy("dateClean").map((function(t,e){return{year:+e,size:t.length,data:t}})).sortBy("year").value();return{name:e,data:a}})).value();return e}},getOverviewData:function(t){var e=V["b"].chain(t.data).groupBy("museum").map((function(t,e){return{museum:e,years:V["b"].uniq(V["b"].pluck(t,"dateClean"))}})).map((function(t){return V["b"].map(t.years,(function(e){return{museum:t.museum,year:e}}))})).flatten().value();return e},getMuseumData:function(t){if(Array.isArray(t.data))return V["b"].chain(t.data).filter((function(e){return e.museum===t.selectedMuseum.label})).value()}},actions:{fetchFilters:function(t){var e=t.commit;return pt.a.get("data/filters.json").then((function(t){e("saveFilters",{filters:t.data,flag:!0})})).catch((function(t){console.log(t)}))},fetchData:function(t){var e=t.commit;return pt.a.get("data/formatted_data.json").then((function(t){e("saveData",{data:t.data,flag:!0})})).catch((function(t){console.log(t)}))}},modules:{}}),mt=a("f309");n["a"].use(mt["a"]);var vt=new mt["a"]({});n["a"].config.productionTip=!1,new n["a"]({store:ht,vuetify:vt,render:function(t){return t(ft)}}).$mount("#app")},"9ea8":function(t,e,a){},cf25:function(t,e,a){"use strict";a("fea6")},e7b3:function(t,e,a){"use strict";a("2312")},f61e:function(t,e,a){"use strict";a("3358")},fd0c:function(t,e,a){"use strict";a("2dca")},fea6:function(t,e,a){}});