(()=>{"use strict";var t={1390:(t,a,e)=>{e(6992),e(8674),e(9601),e(7727);var n=e(144),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",[e("v-app-bar",{attrs:{color:"gray-darken-2",dark:"",app:""}},[e("v-toolbar-title",[t._v("Visualizing Uncertainty - The New Error Bar")])],1),e("v-main",{staticStyle:{background:"#222"}},[e("v-tabs",{attrs:{"background-color":"grey darken-2",color:"basil",grow:""},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab",{attrs:{href:"#tab-proposal"}},[t._v("Proposal")]),e("v-tab",{attrs:{href:"#tab-data"}},[t._v("Data")]),e("v-tab",{attrs:{href:"#tab-viz"}},[t._v("Visualization")])],1),e("v-tabs-items",{staticStyle:{background:"#222"},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab-item",{attrs:{value:"tab-proposal"}},[e("v-container",[e("v-card",{staticClass:"mt-6"},[e("v-card-title",{staticClass:"text-center font-weight-thin mb-0 pb-0"},[t._v(" Proposal Sketch ")]),e("v-img",{staticClass:"mt-6",attrs:{src:"error-bar-prototype.png"}})],1)],1)],1),e("v-tab-item",{attrs:{value:"tab-data"}},[e("v-container",[e("v-card",{staticClass:"mt-6"},[e("v-card-title",{staticClass:"text-center font-weight-thin mb-0 pb-0"},[t._v(" Original Dataset ")]),e("v-img",{staticClass:"mt-6",attrs:{src:"data-before.png"}})],1),e("v-card",{staticClass:"mt-12"},[e("v-card-title",{staticClass:"text-center font-weight-thin mb-0 pb-0"},[t._v(" Data After Analysis ")]),e("v-img",{staticClass:"mt-6",attrs:{src:"data-after-subset.png"}})],1)],1)],1),e("v-tab-item",{attrs:{value:"tab-viz"}},[e("Bar")],1)],1)],1),e("div",{staticClass:"elevation-12",attrs:{id:"tooltip"}})],1)},s=[],i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-row",{attrs:{justify:"center"}},[e("v-col",{attrs:{cols:"9"}},[e("v-card",{staticClass:"mt-5",attrs:{color:"#222"}},[e("v-card-subtitle",{staticClass:"headline text-center mb-0 pb-0",staticStyle:{color:"#fff"}},[t._v(" Approval Ratings of President Biden for 2021 (in %) ")]),e("h5",{staticClass:"text-subtitle-2 text-center mt-0 pt-0",staticStyle:{color:"#999"}},[t._v(" Minimum, Maximum, and Average of Monthly Polling Data ")]),e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-checkbox",{staticClass:"mt-7 mr-6",attrs:{dark:"",label:"Show All Polls",color:"white",value:!1,"hide-details":""},model:{value:t.checkbox,callback:function(a){t.checkbox=a},expression:"checkbox"}}),t.checkbox?e("v-checkbox",{staticClass:"mt-7",attrs:{dark:"",label:"Size Polls by Number of Participants",color:"white",value:!1,"hide-details":""},model:{value:t.checkboxSample,callback:function(a){t.checkboxSample=a},expression:"checkboxSample"}}):t._e()],1),e("div",{staticClass:"mt-6",attrs:{id:"viz"}})],1),e("v-card",{staticClass:"elevation-0",attrs:{color:"#222"}},[e("v-row",{staticClass:"ml-0 mt-1"},[e("v-col",{attrs:{cols:"12"}},[e("v-img",{attrs:{src:t.legendToDisplay,"max-width":"721px"}})],1)],1)],1)],1)],1)],1)},o=[],l=e(9749),c=(e(1249),e(2707),e(7327),e(1539),e(9600),e(2222),e(9554),e(6977),e(1058),e(629)),p=e(3207);const d={name:"Bar",computed:(0,l.Z)((0,l.Z)({},(0,c.rn)(["dataset","dataIsReady","sampleDataIsReady","sampleData"])),{},{svgHeight:function(){return this.height+this.margin.top+this.margin.bottom},xScale:function(){var t=p.tiA().range([0,this.width]).domain(this.dataset.map((function(t){return t.month_name}))).padding(.25);return t},xScaleVoronoi:function(){var t=p.tiA().range([0,this.width]).domain(this.dataset.map((function(t){return t.month_name}))).padding(1);return t},yScale:function(){var t=p.BYU().range([this.height,0]).domain([27,70]);return t},legendToDisplay:function(){return this.checkbox&&this.checkboxSample?"size.svg":this.checkbox&&!this.checkboxSample?"color.svg":"min_max.svg"}}),data:function(){return{width:760,height:400,margin:{top:10,right:40,bottom:40,left:50},svg:Object,checkbox:!1,checkboxSample:!1,positiveColor:"#00C9A7",negativeColor:"#FF8066",defaultCircleRadius:2}},mounted:function(){this.dataIsReady&&this.sampleDataIsReady&&this.render()},watch:{dataIsReady:function(){this.dataIsReady&&this.sampleDataIsReady&&this.render()},sampleDataIsReady:function(){this.dataIsReady&&this.sampleDataIsReady&&this.render()},checkboxSample:function(){this.checkboxSample?this.svg.selectAll("circle").transition().duration(500).attr("r",(function(t){return Math.sqrt(t["samplesize"])/20})):this.svg.selectAll("circle").transition().duration(200).attr("r",this.defaultCircleRadius)},checkbox:function(){this.drawAllPolls()}},methods:{drawAllPolls:function(){var t=this;this.checkbox?(this.checkboxSample=!1,this.svg.append("g").attr("id","circle-group").selectAll("circle").data(this.sampleData.sort((function(t,a){return t.samplesize-a.samplesize}))).enter().append("circle").attr("id",(function(t){return"id_".concat(t.id)})).attr("cx",(function(a){return t.xScale(a["month_name"])+t.xScale.bandwidth()/2})).attr("cy",(function(a){return t.yScale(a["approve"])})).attr("r",(function(a){return t.checkboxSample?Math.sqrt(a["samplesize"])/20:t.defaultCircleRadius})).attr("fill-opacity",(function(t){return.05})).attr("fill",(function(a){var e=t.dataset.filter((function(t){return t["month_name"]===a["month_name"]}))[0]["mean"];return a["approve"]>=e?t.positiveColor:t.negativeColor})),this.drawTooltip()):(this.svg.select("#voronoi-wrapper").remove(),this.svg.select("#circle-group").remove())},drawTooltip:function(){var t=this,a=this.sampleData,e=p.oc6.from(a,(function(a){return t.xScaleVoronoi(a["month_name"])}),(function(a){return t.yScale(a["approve"])})).voronoi([0,0,this.width,this.height]),n=p.WUZ(","),r=p.Ys("#tooltip");this.svg.append("g").attr("id","voronoi-wrapper").selectAll("path").data(a).join("path").attr("opacity",.5).attr("stroke","none").attr("fill","none").style("pointer-events","all").attr("d",(function(t,a){return e.renderCell(a)})).on("mouseover",(function(a,e){var s=t.dataset.filter((function(t){return t["month_name"]===e["month_name"]}))[0]["mean"],i=e["approve"]>=s?t.positiveColor:t.negativeColor,o='<h3 class="text-uppercase">'.concat(e.month_name,'</h3>\n            <div><span class="font-weight-light">Approval: </span><span class="approval text-button" style="background: ').concat(i,'">').concat(e.approve,'</span> </div>\n            <div><span class="font-weight-light">Poll Grade: </span><span class="grade text-button">').concat(null===e.grade?"none":e.grade,'</span></div>\n            <div><span class="font-weight-light">Pollster: </span><span class="pollster text-button">').concat(e.pollster,'</span></div>\n            <div><span class="font-weight-light">Sample Size: </span><span class="sampleSize text-button">').concat(n(e.samplesize),"</span> </div>\n\n            ");p.td_("#circle-group circle").attr("stroke","none"),p.Ys("#months").selectAll("text").style("opacity",0);var l=p.Ys("#id_".concat(e.id)).node().getBoundingClientRect();p.Ys("#".concat(e.month_name)).selectAll("text").style("opacity",1),p.Ys("#".concat(e.month_name)).select(".month_column").attr("fill","#111").style("pointer-events","none"),p.Ys("#id_".concat(e.id)).attr("stroke","yellow").attr("stroke-width","2pt").attr("stroke-opacity",1).style("pointer-events","none").raise(),r.style("display","block").transition().duration(300).style("opacity",.98),r.style("left",l.x+l.width/2+55+"px").style("top",l.y-r.node().getBoundingClientRect().height/2+"px").style("pointer-events","none").html(o)})).on("mouseout",(function(){p.td_("#circle-group circle").attr("stroke","none").style("pointer-events","all"),p.Ys("#months").selectAll("text").style("opacity",0),p.td_(".month_column").attr("fill","transparent").style("pointer-events","all"),r.style("display","none").style("opacity",0)}))},render:function(){var t=this.dataset,a=this.width,e=this.svgHeight,n=this.height,r=a+this.margin.left+this.margin.right;this.svg=p.Ys("#viz").append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(r," ").concat(e)).classed("svg-content",!0).style("background","#222").append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.svg.append("g").attr("class","xAxis").attr("transform","translate(0,"+n+")").call(p.LLu(this.xScale)),this.svg.append("g").attr("class","yAxis").call(p.y4O(this.yScale));var s=["min","mean","max"],i=this;this.svg.append("g").attr("id","months").selectAll("g").data(t).enter().append("g").attr("id",(function(t){return"".concat(t.month_name)})).each((function(t){var a=this,e=this;p.Ys(this).append("rect").attr("class","month_column").attr("width",i.xScale.bandwidth()).attr("height",i.height).attr("fill","transparent").attr("x",(function(t){return i.xScale(t.month_name)})).on("mouseenter",(function(t,a){p.Ys(this).attr("fill","#111"),p.Ys(e).selectAll("text").style("opacity",1)})).on("mouseleave",(function(t,e){p.td_(".month_column").attr("fill","transparent"),p.Ys(a).selectAll("text").style("opacity",0)})),s.forEach((function(t,e){var n=[i.negativeColor,"#ddd",i.positiveColor];p.Ys(a).append("rect").attr("x",(function(t,a){return i.xScale(t.month_name)})).attr("y",(function(a){return i.yScale(a[t])})).attr("width",i.xScale.bandwidth()).attr("height",(function(a){return"mean"===t?3:1})).attr("fill",n[e]).style("opacity",(function(t){}))})),p.Ys(this).append("text").attr("x",(function(t){return i.xScale(t["month_name"])})).attr("y",(function(t){return i.yScale(t["max"]+.4)})).attr("dx",(function(t){return 5})).text((function(t){return"max: ".concat(t.max)})).style("font-size","8pt").attr("fill","#999").style("opacity",0),p.Ys(this).append("text").attr("x",(function(t){return i.xScale(t["month_name"])})).attr("y",(function(t){return i.yScale(t["min"]-1.1)})).attr("dx",(function(t){return 5})).text((function(t){return"min: ".concat(t.min.toFixed())})).style("font-size","8pt").attr("fill","#999").style("opacity",0),p.Ys(this).append("text").attr("x",(function(t){return i.xScale(t["month_name"])})).attr("y",(function(t){return i.yScale(t["mean"]-1.2)})).attr("dx",(function(t){return 1.5})).text((function(t){return"mean: ".concat(parseInt(t.mean))})).style("font-size","8pt").attr("fill","#999").style("opacity",0)})),this.drawAllPolls()}}},u=d;var h=e(1001),m=e(3453),v=e.n(m),f=e(3309),g=e(2141),b=e(1053),y=e(9194),x=e(3205),S=e(1631),_=e(2430),w=(0,h.Z)(u,i,o,!1,null,null,null);const k=w.exports;v()(w,{VCard:f.Z,VCardSubtitle:g.Qq,VCheckbox:b.Z,VCol:y.Z,VContainer:x.Z,VImg:S.Z,VRow:_.Z});const C={name:"App",components:{Bar:k},mounted:function(){this.$store.dispatch("getData"),this.$store.dispatch("getSampleData")},data:function(){return{tab:"tab-viz",items:["proposal","data","visualization"]}}},A=C;var Z=e(72),D=e(3005),R=e(5719),I=e(1444),V=e(9721),z=e(2073),P=e(3764),Y=e(3623),T=(0,h.Z)(A,r,s,!1,null,null,null);const O=T.exports;v()(T,{VApp:Z.Z,VAppBar:D.Z,VCard:f.Z,VCardTitle:g.EB,VContainer:x.Z,VImg:S.Z,VMain:R.Z,VTab:I.Z,VTabItem:V.Z,VTabs:z.Z,VTabsItems:P.Z,VToolbarTitle:Y.qW});var j=e(7640);n.Z.use(j.Z);const B=new j.Z({});e(9669);n.Z.use(c.ZP);const M=new c.ZP.Store({state:{dataset:Array,sampleData:Array,dataIsReady:!1,sampleDataIsReady:!1},mutations:{saveData:function(t,a){t.dataset=a.dataset,t.dataIsReady=a.dataIsReady},saveSampleData:function(t,a){t.sampleData=a.dataset,t.sampleDataIsReady=a.dataIsReady}},actions:{getSampleData:function(t,a){var e=t.commit;t.state;p.gyn("data/data_subset.csv",p.rA8).then((function(t){e("saveSampleData",{dataset:t,dataIsReady:!0})}))},getData:function(t,a){var e=t.commit;t.state;p.gyn("data/std_mean.csv",p.rA8).then((function(t){e("saveData",{dataset:t,dataIsReady:!0})}))}}});n.Z.config.productionTip=!1,new n.Z({vuetify:B,store:M,render:function(t){return t(O)}}).$mount("#app")}},a={};function e(n){var r=a[n];if(void 0!==r)return r.exports;var s=a[n]={exports:{}};return t[n](s,s.exports,e),s.exports}e.m=t,(()=>{var t=[];e.O=(a,n,r,s)=>{if(!n){var i=1/0;for(p=0;p<t.length;p++){for(var[n,r,s]=t[p],o=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(e.O).every((t=>e.O[t](n[l])))?n.splice(l--,1):(o=!1,s<i&&(i=s));if(o){t.splice(p--,1);var c=r();void 0!==c&&(a=c)}}return a}s=s||0;for(var p=t.length;p>0&&t[p-1][2]>s;p--)t[p]=t[p-1];t[p]=[n,r,s]}})(),(()=>{e.n=t=>{var a=t&&t.__esModule?()=>t["default"]:()=>t;return e.d(a,{a}),a}})(),(()=>{e.d=(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})}})(),(()=>{e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{e.o=(t,a)=>Object.prototype.hasOwnProperty.call(t,a)})(),(()=>{e.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{var t={143:0};e.O.j=a=>0===t[a];var a=(a,n)=>{var r,s,[i,o,l]=n,c=0;if(i.some((a=>0!==t[a]))){for(r in o)e.o(o,r)&&(e.m[r]=o[r]);if(l)var p=l(e)}for(a&&a(n);c<i.length;c++)s=i[c],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(p)},n=self["webpackChunkerror_bars"]=self["webpackChunkerror_bars"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))})();var n=e.O(void 0,[998],(()=>e(1390)));n=e.O(n)})();