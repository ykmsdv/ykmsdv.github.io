(()=>{"use strict";var t={1366:(t,e,r)=>{r(6992),r(8674),r(9601),r(7727);var i=r(144),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{staticClass:"elevation-1",attrs:{app:"",color:"#fff",dense:"",flat:""}},[r("h1",{staticClass:"text-button"},[t._v("Is Food Making You Sick?")])]),r("v-main",[r("StorySides")],1),r("Footer"),r("div",{staticClass:"elevation-7",attrs:{id:"tooltip"}})],1)},a=[],s=r(4367),o=r(629),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-item-group",{staticClass:"shrink mr-6 elevation-0",attrs:{id:"dotNav",mandatory:""},model:{value:t.currentSlide,callback:function(e){t.currentSlide=e},expression:"currentSlide"}},t._l(t.length,(function(e){return r("v-item",{key:e,staticStyle:{float:"left"},scopedSlots:t._u([{key:"default",fn:function(i){var n=i.active,a=i.toggle;return[r("div",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-btn",t._g(t._b({attrs:{"input-value":n,icon:"","x-small":"",color:"#888"},on:{click:a}},"v-btn",s,!1),i),[r("v-icon",{attrs:{"x-small":""}},[t._v("mdi-record")])],1)]}}],null,!0)},[r("span",[t._v(t._s(t.sideNavTooltip(e)))])])],1)]}}],null,!0)})})),1),r("v-window",{staticClass:"elevation-0",attrs:{vertical:""},model:{value:t.currentSlide,callback:function(e){t.currentSlide=e},expression:"currentSlide"}},[r("v-container",{attrs:{id:"app_container"}},[r("v-row",{staticClass:"mt-4 ml-4",attrs:{id:"projectTitle",justify:"center",align:"center"}},[r("h2",{staticClass:"text-overline font-weight-light"},[t._v(" Is Food Making You Sick? ")]),r("hr"),r("h3",{staticClass:"h5 font-weight-thin ml-1 mt-2"},[t._v(" Exploring the Relationship Between Nutrition and Health ")])]),r("v-window-item",{key:0},[r("v-card",{attrs:{flat:""}},[r("v-row",{staticClass:"text-center mt-10"},[r("v-col",{attrs:{cols:"12"}},[r("h2",{staticClass:"text-h5 font-weight-light mb-6"},[r("strong",[t._v("Milk Consumption")]),t._v(" (gramps per day) per Country ")]),r("p",{staticClass:"shortIntro"},[r("strong",[t._v("Milk")]),t._v(" and milk products are oftentimes promoted as very important for one's health, however, the "),r("a",{attrs:{href:"https://www.researchgate.net/publication/281140866_Dairy_Products_and_Inflammation_A_Review_of_the_Clinical_Evidence",target:"_blank"}},[t._v("research")]),t._v(" on the topic is still contradictory. Some of the research links dairy to increase in inflamation, which could have negative impact on overall health. ")]),r("introSlidesViz",{attrs:{variableToVisualize:"nutrient"}}),r("v-btn",{staticClass:"ma-2 mt-12",attrs:{outlined:"",color:"blue-grey darken-2","x-large":""},on:{click:function(e){return t.changeWindow(e,1)}}},[t._v(" Next "),r("v-icon",{staticClass:"ml-1"},[t._v("mdi-arrow-down-drop-circle-outline")])],1)],1)],1)],1)],1),r("v-window-item",{key:1},[r("v-card",{attrs:{flat:""}},[r("v-row",{staticClass:"text-center mt-10"},[r("v-col",{attrs:{cols:"12"}},[r("h2",{staticClass:"text-h5 font-weight-light mb-6"},[r("strong",[t._v("Rheumatoid Arthritis Prevalance")]),t._v(" per 100k per Country ")]),r("p",{staticClass:"shortIntro"},[r("strong",[t._v("Rheumatoid arthritis")]),t._v(" is an autoimmune disorder in which the body is attacking its own cells and systems, primairly the joints. ")]),r("introSlidesViz",{attrs:{variableToVisualize:"disease"}}),r("p",{staticClass:"mt-10",staticStyle:{width:"280px",margin:"0 auto"}},[t._v(" Now let's see if there is any relationship between milk consumption and Rheumatoid arthritis ")]),r("v-btn",{staticClass:"ma-2 mt-8",attrs:{outlined:"",color:"blue-grey darken-2","x-large":""},on:{click:function(e){return t.changeWindow(e,2)}}},[t._v(" Explore the data "),r("v-icon",{staticClass:"ml-1"},[t._v("mdi-arrow-down-drop-circle-outline")])],1)],1)],1)],1)],1),r("v-window-item",{key:2},[r("v-card",{attrs:{flat:""}},[r("Visualizations")],1)],1)],1)],1)],1)},l=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.dataIsReady?r("v-row",{attrs:{justify:"center",id:"visualizations"}},[r("v-col",{staticClass:"elevation-0",attrs:{cols:"12"}},[r("Filters"),r("v-row",{staticClass:"text-center",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("h2",{staticClass:"mb-2"},[t._v(" Relationship between "),r("span",[t._v(t._s(t.selectedNutritionLabel))]),t._v(" and "),r("span",[t._v(t._s(t.selectedDiseaseLabel))])])])],1),r("v-row",[r("v-col",{attrs:{cols:"9"}},[r("Scatterplot")],1),r("v-col",{attrs:{cols:"3"}},[r("SidePanel")],1)],1)],1)],1):t._e()},d=[],h=(r(7042),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{staticClass:"text-right",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{attrs:{id:"progressWrapper"}},[100!=t.current_state.data_load_progress?r("v-progress-circular",{attrs:{indeterminate:"",size:80,width:8,"buffer-value":t.current_state.data_load_progress,color:"#37474F"},model:{value:t.progressBarValue,callback:function(e){t.progressBarValue=e},expression:"progressBarValue"}}):t._e()],1),r("v-btn",{staticStyle:{position:"relative",top:"25px"},attrs:{depressed:"","x-small":"",dark:"",color:"#333"},on:{click:t.resetZoom}},[t._v("reset zoom")]),r("div",{style:{opacity:100==t.current_state.data_load_progress?1:.3},attrs:{id:"scatterplot"}})],1)],1)}),p=[],g=(r(7327),r(1539),r(2772),r(1249),r(2222),r(9600),r(2564),r(4951)),v=r(6645);const f={name:"Scatterplot",data:function(){return{progressBarValue:0,width:800,height:500,margin:{top:40,right:40,bottom:60,left:80},svg:Object,selectedCountry:Object,style:{highlightPointColor:"#FF3D00",vizBackground:"#fff",circleRadius:6,circleColors:{default:"#444",pushedBack:"#ddd",selectedCountryUnactiveRegion:"#555"},circleOpacity:{default:.7,pushedBack:.5,disappearing:0,highlighted:.9,decreased:.2},circleStroke:{color:"#9d9d9d",highlighted:"#222",width:1,thick:3}}}},computed:(0,s.Z)((0,s.Z)((0,s.Z)({},(0,o.rn)(["dataset","dataIsReady","selectedPlotPoint","current_state","color_code"])),(0,o.Se)(["get_region_list"])),{},{filteredDataset:function(){var t=this;return this.dataset.filter((function(e){return t.current_state.selected_region.indexOf(e["region"])>=0}))},isReady:function(){return!("function"==typeof this.dataset||!this.dataset.length)},svgHeight:function(){return this.height+this.margin.top+this.margin.bottom},svgWidth:function(){return this.width+this.margin.left+this.margin.right},xScale:function(){var t=g.BYU().domain([0,g.Fp7(this.dataset.map((function(t){return t.nutrient})))]).range([0,this.width]).nice();return t},yScale:function(){var t=g.BYU().domain([0,g.Fp7(this.dataset.map((function(t){return t.disease})))]).range([this.height,0]).nice();return t},populationRadiusScale:function(){return g.PUr([0,5e8],[0,this.width/24])},colorMap:function(){var t=g.PKp().domain(this.get_region_list).range(this.color_code);return t},regression:function(){var t=(0,v.regressionLinear)().x((function(t){return t.nutrient})).y((function(t){return t.disease}));t(this.dataset);return t},zoom:function(){var t=g.sPX().scaleExtent([1,8]).translateExtent([[0,0],[this.svgWidth,this.svgHeight]]).on("zoom",this.zoomed);return t},tooltip:function(){return g.Ys("#tooltip")}}),mounted:function(){this.isReady&&this.render()},watch:{dataset:function(){this.isReady&&(g.Ys("svg > g").empty()||this.updateScatter(),this.current_state.regression_line?this.addRegressionLine():this.removeRegressionLine())},"current_state.regression_line":function(){this.current_state.regression_line?this.addRegressionLine():this.removeRegressionLine()},"current_state.size":function(){this.updateCircleSize()},"current_state.hovered_region":function(){this.updateCircleColorOnHover()},"current_state.selected_region":function(){this.manageCirclesStyles()},"current_state.country":function(){this.manageCirclesStyles()}},methods:(0,s.Z)((0,s.Z)({},(0,o.OI)(["updateSelectedPlotPoint"])),{},{zoomed:function(t){var e=this,r=t.transform,i=r.rescaleX(this.xScale),n=r.rescaleY(this.yScale);g.Ys(".highlight-circle").style("display","none"),g.Ys(".voronoiWrapper").selectAll("path").attr("d",(function(t,r){return e.voronoi(i,n,r)})).on("mouseover",(function(t,r){e.highlightPoint(i,n,r,t),e.showTooltip(t,r)})).on("mouseleave",(function(t,r){e.hideTooltip(),e.removeHighlightPoint(i,n,r)})),g.Ys("g.xAxis").call(g.LLu(i)),g.Ys("g.yAxis").call(g.y4O(n)),g.Ys("g.scatterCircles").selectAll("circle").attr("cx",(function(t){return i(t.nutrient)})).attr("cy",(function(t){return n(t.disease)}))},drawSvg:function(){this.svg=g.Ys("#scatterplot").append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(this.svgWidth," ").concat(this.svgHeight)).classed("svg-content",!0).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.svg.append("defs").append("svg:clipPath").attr("id","clip").append("svg:rect").attr("id","clip-rect").attr("x","0").attr("y","0").attr("width",this.width).attr("height",this.height)},render:function(){var t=this;g.Ys("#scatterplot svg").remove(),this.drawSvg(),this.svg.call(this.zoom).call(this.zoom.transform,g.CRH),this.svg.append("g").attr("class","axis xAxis").attr("transform","translate(0,"+this.height+")").call(g.LLu(this.xScale)),this.svg.append("g").attr("class","axis yAxis").call(g.y4O(this.yScale)),this.svg.append("text").attr("class","label x-label").attr("text-anchor","end").attr("x",this.width+5).attr("y",this.height+35).text("".concat(this.current_state.nutrient.label," - ").concat(this.current_state.nutrient.food_group," (").concat(this.current_state.nutrient.serving_size,")")),this.svg.append("text").attr("class","label y-label").attr("text-anchor","end").attr("y",-60).attr("dx","0.2em").attr("transform","rotate(-90)").text("".concat(this.current_state.disease.label," - Prevalence per 100k")),this.svg.append("g").attr("class","scatterCircles").selectAll("circle").data(this.dataset).enter().append("circle").attr("id",(function(t){return"circle_".concat(t["iso"])})).attr("cx",(function(e){return t.xScale(e.nutrient)})).attr("cy",(function(e){return t.yScale(e.disease)})).attr("r",(function(e){return t.style.circleRadius})).attr("stroke",(function(e){return t.current_state.country&&e.country===t.current_state.country?t.style.circleStroke.highlighted:t.style.circleStroke.color})).attr("stroke-width",(function(e){return t.current_state.country&&e.country===t.current_state.country?t.style.circleStroke.thick:t.style.circleStroke.width})).attr("fill",(function(e){return t.current_state.country&&e.country===t.current_state.country&&(-1===t.current_state.selected_region.indexOf(e["region"])||t.current_state.hovered_region)?t.style.circleColors.selectedCountryUnactiveRegion:t.colorMap(e["region"])})).style("opacity",(function(e){return t.current_state.country?e.country===t.current_state.country?t.style.circleOpacity.highlighted:t.style.circleOpacity.pushedBack:t.style.circleOpacity["default"]})).attr("clip-path","url(#clip)"),this.svg.append("g").attr("class","voronoiWrapper").selectAll("path").data(this.dataset).join("path").attr("id",(function(t){return t["iso"]})).attr("fill","none").style("pointer-events","all").attr("d",(function(e,r){return t.voronoi(t.xScale,t.yScale,r)})).on("mouseover",(function(e,r){t.highlightPoint(t.xScale,t.yScale,r,e),t.showTooltip(e,r)})).on("mouseleave",(function(e,r){t.hideTooltip(),t.removeHighlightPoint(t.xScale,t.yScale,r)})),this.svg.append("line").attr("class","regression").style("display","none"),this.updateCircleSize()},updateScatter:function(){var t=this;this.updateCircleSize();var e=this.dataset;this.svg.select(".axis.xAxis").transition().duration(500).call(g.LLu(this.xScale)),this.svg.select(".axis.yAxis").transition().duration(500).call(g.y4O(this.yScale)),this.svg.select(".label.x-label").transition().duration(500).text("".concat(this.current_state.nutrient.label," - ").concat(this.current_state.nutrient.food_group," (").concat(this.current_state.nutrient.serving_size,")")),this.svg.select(".label.y-label").transition().duration(500).text("".concat(this.current_state.disease.label," - Prevalence per 100k"));var r=this.current_state.size.value;this.svg.select("g.scatterCircles").selectAll("circle").data(e).transition().duration(500).attr("id",(function(t){return"circle_".concat(t["iso"])})).attr("cx",(function(e){return t.xScale(e.nutrient)})).attr("cy",(function(e){return t.yScale(e.disease)})).attr("r",(function(e){return null==r?t.style.circleRadius:"pop"==r?999!=e[r]?t.populationRadiusScale(e["pop"]):0:"obesity"==r?999!=e[r]?e[r]/4:0:"overweight"==r?999!=e[r]?e[r]/10:0:"underweight"==r?999!=e[r]?e[r]:0:void 0})).attr("stroke",(function(e){return t.current_state.country&&e.country===t.current_state.country?t.style.circleStroke.highlighted:t.style.circleStroke.color})).attr("stroke-width",(function(e){return t.current_state.country&&e.country===t.current_state.country?t.style.circleStroke.thick:t.style.circleStroke.width})).attr("fill",(function(e){return t.current_state.country&&e.country===t.current_state.country?-1===t.current_state.selected_region.indexOf(e["region"])||t.current_state.hovered_region?t.style.circleColors.selectedCountryUnactiveRegion:t.colorMap(e["region"]):-1===t.current_state.selected_region.indexOf(e["region"])||t.current_state.hovered_region?t.style.circleColors.pushedBack:t.colorMap(e["region"])})).style("opacity",(function(e){return t.current_state.country?e.country===t.current_state.country?t.style.circleOpacity.highlighted:t.style.circleOpacity.pushedBack:t.style.circleOpacity["default"]})).attr("clip-path","url(#clip)"),this.svg.selectAll(".voronoiWrapper").remove(),this.svg.append("g").attr("class","voronoiWrapper").selectAll("path").data(e).join("path").attr("id",(function(t){return t["iso"]})).attr("fill","none").style("pointer-events","all").attr("d",(function(e,r){return t.voronoi(t.xScale,t.yScale,r)})).on("mouseover",(function(e,r){t.highlightPoint(t.xScale,t.yScale,r,e),t.showTooltip(e,r)})).on("mouseleave",(function(e,r){t.hideTooltip(),t.removeHighlightPoint(t.xScale,t.yScale,r)}))},addRegressionLine:function(){var t=this;g.Ys("line.regression").style("display","block").datum(this.regression(this.dataset)).attr("x1",(function(t){return 0})).attr("x2",(function(t){return 0})).attr("y1",(function(e){return t.yScale(e[0][1])})).attr("y2",(function(t){return 0})),g.Ys("line.regression").datum(this.regression(this.dataset)).transition().duration(500).attr("x1",(function(e){return t.xScale(e[0][0])})).attr("x2",(function(e){return t.xScale(e[1][0])})).attr("y1",(function(e){return t.yScale(e[0][1])})).attr("y2",(function(e){return t.yScale(e[1][1])})).style("display","block").attr("clip-path","url(#clip)")},removeRegressionLine:function(){g.Ys("line.regression").style("display","none")},resetZoom:function(){this.svg.transition().duration(750).call(this.zoom.transform,g.CRH)},updateCircleSize:function(){var t=this;if(this.current_state.size.hasOwnProperty("value")){var e=this.current_state.size.value;g.td_(".v-input").style("pointer-events","none"),g.Ys("g.scatterCircles").selectAll("circle").transition().duration(500).attr("r",(function(r){return null==e?t.style.circleRadius:"pop"==e?999!=r[e]?t.populationRadiusScale(r["pop"]):0:"obesity"==e?999!=r[e]?r[e]/4:0:"overweight"==e?999!=r[e]?r[e]/10:0:"underweight"==e?999!=r[e]?r[e]:0:void 0})),setTimeout((function(t){g.td_(".v-input").style("pointer-events","all")}),510)}},updateCircleColorOnHover:function(){var t=this,e=this.current_state.hovered_region,r=this.current_state.selected_region,i=this.style.circleOpacity,n=this.style.circleColors,a=this.style.circleStroke,s=this.current_state.country,o=this;g.Ys("g.scatterCircles").selectAll("circle").transition().duration(700).style("opacity",(function(t){return!1===e?s&&t.country===s?i.highlighted:r.indexOf(t.region)>=0?s?i.pushedBack:i["default"]:i.pushedBack:s&&t.country===s?(t.region===e&&g.Ys(this).raise(),i.highlighted):t.region===e&&r.indexOf(t.region)>=0?(g.Ys(this).raise(),i["default"]):i.pushedBack})).attr("fill",(function(t){return!1===e?s&&t.country===s?-1===r.indexOf(t["region"])?n.selectedCountryUnactiveRegion:o.colorMap(t["region"]):r.indexOf(t.region)>=0?o.colorMap(t["region"]):n.pushedBack:s&&t.country===s?r.indexOf(t.region)>=0&&t.region===e?o.colorMap(t["region"]):n.selectedCountryUnactiveRegion:t.region===e&&r.indexOf(t.region)>=0?o.colorMap(t["region"]):n.pushedBack})).attr("stroke-width",(function(e){return s&&e.country===s?"3pt":t.style.circleStroke.width})).attr("stroke",(function(t){return s&&t.country===s?a.highlighted:a.color}))},manageCirclesStyles:function(){var t=this,e=this.style.circleOpacity,r=this.style.circleColors,i=this.style.circleStroke,n=this.current_state.country,a=this.current_state.selected_region.filter((function(t){return null!==t}));g.Ys("g.scatterCircles").selectAll("circle").transition().duration(1e3).style("opacity",(function(t){return a.indexOf(t.region)<0?n&&t.country===n?(g.Ys(this).raise(),e.highlighted):e.pushedBack:n&&t.country===n?(g.Ys(this).raise(),e.highlighted):e["default"]})).attr("fill",(function(e){return 0===a.length?r["default"]:a.indexOf(e.region)<0?n&&e.country===n?r.selectedCountryUnactiveRegion:r.pushedBack:t.colorMap(e["region"])})).attr("stroke-width",(function(e){return n&&e.country===n?"3pt":t.style.circleStroke.width})).attr("stroke",(function(t){return n&&t.country===n?i.highlighted:i.color}))},showTooltip:function(t,e){if(!(this.current_state.data_load_progress<100)){var r=g.WUZ(",.0f"),i='<span id="ttpCountry">'.concat(e.country,'</span>\n                            <span class="population">').concat(r(e.pop),' people</span>\n                            <span class="caption font-weight-medium">').concat(this.current_state.nutrient.label,' consumption:</span>\n                            <span class="caption text-uppercase mb-1"> ').concat(r(e.nutrient)," ").concat(this.current_state.nutrient.serving_size,'</span>\n                            <span class="caption font-weight-medium">').concat(this.current_state.disease.label,' prevalence:</span>\n                            <span class="caption text-uppercase"> ').concat(r(e.disease)," people per 100k\n                            (~").concat(r(e.disease/1e5*e.pop)," people)\n                            </span>\n                            ");this.tooltip.style("display","block").transition().duration(500).style("opacity",1);var n=g.Ys("#circle_".concat(t.srcElement.id)).node().getBoundingClientRect();this.tooltip.style("left",n.x+n.width/2+20+"px").style("top",n.y-this.tooltip.node().getBoundingClientRect().height/2+"px").style("pointer-events","none").html(i)}},hideTooltip:function(){this.tooltip.style("display","none").style("opacity",0)},voronoi:function(t,e,r){return g.oc6.from(this.dataset,(function(e){return t(e.nutrient)}),(function(t){return e(t.disease)})).voronoi([0,0,this.width,this.height]).renderCell(r)},highlightPoint:function(t,e,r,i){var n=this;if(!(this.current_state.data_load_progress<100)){var a=i.srcElement.id;g.Ys("g.scatterCircles").selectAll("circle").style("opacity",(function(t){return n.current_state.country&&t.country===n.current_state.country?n.style.circleOpacity.highlighted:n.style.circleOpacity.pushedBack})),g.Ys("#circle_".concat(a)).attr("stroke",this.style.highlightPointColor).attr("stroke-width","3pt").style("opacity",(function(t){return g.Ys(n).raise(),n.style.circleOpacity.highlighted}))}},removeHighlightPoint:function(t,e,r){var i=this;g.Ys("g.scatterCircles").selectAll("circle").attr("stroke",(function(t){return i.current_state.country&&t.country===i.current_state.country?i.style.circleStroke.highlighted:i.style.circleStroke.color})).attr("stroke-width",(function(t){return i.current_state.country&&t.country===i.current_state.country?i.style.circleStroke.thick:i.style.circleStroke.width})).style("opacity",(function(t){if(!i.current_state.country||t.country!==i.current_state.country)return i.current_state.country?i.style.circleOpacity.pushedBack:i.style.circleOpacity["default"];i.style.circleOpacity.highlighted}))}})},y=f;var m=r(3736),_=r(3453),S=r.n(_),b=r(3150),w=r(2102),k=r(624),x=r(2877),C=(0,m.Z)(y,h,p,!1,null,null,null);const R=C.exports;S()(C,{VBtn:b.Z,VCol:w.Z,VProgressCircular:k.Z,VRow:x.Z});var Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{"no-gutters":"",justify:"center"}},[r("v-col",{attrs:{cols:"4"}},[r("Dropdown",{staticClass:"mr-6",attrs:{items:t.filters.nutritionFilters,label:"Select Nutrition",state:"nutrient",default:t.current_state.nutrient}})],1),r("v-col",{attrs:{cols:"6"}},[r("Dropdown",{staticClass:"mr-6",attrs:{items:t.filters.healthFilters,label:"Select Condition",state:"disease",default:t.current_state.disease}})],1)],1)},O=[],V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isReady?r("v-autocomplete",{ref:"myDropdown",attrs:{items:t.items,"item-text":"label","item-value":"value",label:t.label,"return-object":"",color:"blue-grey darken-3",id:t.state},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}):t._e()},z=[];const A={name:"Dropdown",props:{items:[Function,Array],label:String,state:String,default:[Object,String]},data:function(){return{selected:this["default"]}},computed:{isReady:function(){return"function"!=typeof this.items}},watch:{selected:function(t){this.saveSelectedState({stateToSave:this.state,selected:t}),"nutrient"!==this.state&&"disease"!==this.state||null!=this.selected&&this.$store.dispatch("getDataset")}},methods:(0,s.Z)({},(0,o.OI)(["saveSelectedState"]))},T=A;var P=r(8205),Y=(0,m.Z)(T,V,z,!1,null,null,null);const B=Y.exports;S()(Y,{VAutocomplete:P.Z});const D={name:"Filters",components:{Dropdown:B},data:function(){return{selected_region:"",select:"",strokesCount:0}},computed:(0,s.Z)((0,s.Z)({},(0,o.rn)(["filters","current_state","color_code","dataIsReady"])),(0,o.Se)(["get_country_list","get_region_list"]))},I=D;var F=(0,m.Z)(I,Z,O,!1,null,null,null);const L=F.exports;S()(F,{VCol:w.Z,VRow:x.Z});var j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"pl-3",attrs:{id:"sidePanel"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"mt-2",attrs:{cols:"10"}},[r("Dropdown",{staticClass:"ml-2",attrs:{items:t.get_country_list,label:"Highlight Country",state:"country",default:t.current_state.country}})],1)],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"10"}},[r("Dropdown",{staticClass:"ml-2",attrs:{items:t.sizeBy,label:"Size Circles By",state:"size",default:t.current_state.size}})],1)],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"mt-6",attrs:{cols:"12"}},[r("span",{staticClass:"ml-2 mr-2 text-button"},[t._v("Highlight Region")]),t._l(t.get_region_list,(function(e,i){return[r("v-checkbox",{key:i,staticClass:"ml-2 mr-2",attrs:{color:t.color_code[i],value:e,"hide-details":"",dense:!0},scopedSlots:t._u([{key:"label",fn:function(){return[r("span",{staticClass:"text-sm-body-2"},[t._v(t._s(e))])]},proxy:!0}],null,!0),model:{value:t.selected_region[i],callback:function(e){t.$set(t.selected_region,i,e)},expression:"selected_region[index]"}})]}))],2)],1),r("v-row",[r("v-col",{attrs:{cols:"10"}},[r("v-card",{staticClass:"ma-0 pa-0",attrs:{elevation:"0"}},[r("v-card-actions",{staticClass:"ma-0 pa-0"},[r("v-switch",{staticClass:"ml-4",attrs:{inset:"",dense:"",color:"blue-grey darken-3"},scopedSlots:t._u([{key:"label",fn:function(){return[r("span",{staticClass:"caption",staticStyle:{margin:"-1px 0 0 -7px"}},[t._v(t._s(1==t.regressionLine?"Remove Regression Line":"Add Regression Line"))])]},proxy:!0}]),model:{value:t.regressionLine,callback:function(e){t.regressionLine=e},expression:"regressionLine"}}),r("v-tooltip",{attrs:{top:"","nudge-left":"35",color:"#fff","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"ml-1",staticStyle:{"margin-top":"-12px"},attrs:{small:"",dark:"",color:"grey"}},"v-icon",n,!1),i),[t._v(" mdi-comment-question-outline ")])]}}])},[r("div",{staticClass:"elevation-3 pa-5",staticStyle:{color:"#111 !important",opacity:"1"}},[t._v(' The regression line gives a visual presentation of the relationship between two variables. The steepness of the angle of the regression line (slope) is the amount of change in "Y" that we can expect for any unit change in "X". '),r("v-img",{attrs:{src:"images/regression_line.png"}})],1)])],1)],1)],1)],1)],1)},M=[];const U={name:"SidePanel",components:{Dropdown:B},data:function(){return{hoveredRegion:!1,selected_region:["Africa","Asia","Europe","Latin America and the Caribbean","Northern America","Oceania"],sizeBy:[{value:null,label:"Don't Size"},{value:"pop",label:"Population"},{value:"obesity",label:"Obesity Rate"},{value:"overweight",label:"Overweight Rate"},{value:"underweight",label:"Underweight Rate"}],regressionLine:!1}},computed:(0,s.Z)((0,s.Z)({},(0,o.rn)(["current_state","color_code","dataIsReady"])),(0,o.Se)(["get_country_list","get_region_list"])),watch:{get_region_list:function(){this.regionHover()},selected_region:function(t){this.saveSelectedState({stateToSave:"selected_region",selected:t})},regressionLine:function(t){this.saveSelectedState({stateToSave:"regression_line",selected:t})}},mounted:function(){this.regionHover()},methods:(0,s.Z)((0,s.Z)({},(0,o.OI)(["saveSelectedState"])),{},{regionHover:function(){var t=this;g.td_(".v-input").on("mouseenter",(function(e,r){var i=g.Ys(this).select("label").text();t.selected_region.indexOf(i)>=0&&(t.hoveredRegion=i,g.Ys(this).style("background","#eee"),t.saveSelectedState({stateToSave:"hovered_region",selected:i}))})).on("mouseleave",(function(){t.hoveredRegion=!1,g.Ys(this).style("background","#fff"),t.saveSelectedState({stateToSave:"hovered_region",selected:!1})}))}})},H=U;var E=r(3237),W=r(7118),N=r(3702),$=r(6428),K=r(7047),X=r(1328),q=r(9330),G=(0,m.Z)(H,j,M,!1,null,null,null);const J=G.exports;S()(G,{VCard:E.Z,VCardActions:W.h7,VCheckbox:N.Z,VCol:w.Z,VIcon:$.Z,VImg:K.Z,VRow:x.Z,VSwitch:X.Z,VTooltip:q.Z});const Q={name:"Visualizations",components:{Scatterplot:R,Filters:L,SidePanel:J},data:function(){return{progressBarValue:0}},computed:(0,s.Z)((0,s.Z)({},(0,o.rn)(["dataset","dataIsReady","selectedPlotPoint","current_state"])),{},{selectedDiseaseLabel:function(){if(this.current_state.disease)return this.current_state.disease.label},selectedNutritionLabel:function(){if(this.current_state.nutrient){var t=this.current_state.nutrient.label.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}}})},tt=Q;var et=(0,m.Z)(tt,u,d,!1,null,null,null);const rt=et.exports;S()(et,{VCol:w.Z,VRow:x.Z});var it=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:t.variableToVisualize}},[r("div",{attrs:{id:"introViz"}}),r("div",{staticClass:"ttp ttpUSA elevation-1"})])},nt=[],at=(r(4916),r(3123),r(6005));const st={name:"introSlidesViz",props:{variableToVisualize:String},data:function(){return{defaultStrokeColor:"#ddd",defaultStrokeWidth:1,colorUSA:"#f94144",highlightedStrokeColor:"#111",highlightedStrokeWidth:3,hoveredCircleFill:"#fff",defaultCircleColor:"#444",defaultOpacity:.4,fullOpacity:1,width:150,height:500,margin:{top:30,right:10,bottom:10,left:10},svg:Object,radius:7}},computed:(0,s.Z)((0,s.Z)({},(0,o.rn)(["dataset","dataIsReady"])),{},{isReady:function(){return!(!this.dataIsReady||!this.dataset)},svgHeight:function(){return this.height+this.margin.top+this.margin.bottom},svgWidth:function(){return this.width+this.margin.left+this.margin.right},xScale:function(){var t=g.BYU().domain([0,1]).range([0,this.width]);return t},yScale:function(){var t=this,e=g.BYU().domain([0,g.Fp7(this.dataset.map((function(e){return"nutrient"===t.variableToVisualize?e.nutrient:e.disease})))]).range([this.height,0]).nice();return e},voronoi:function(){var t=this,e=this.variableToVisualize;return g.oc6.from(this.dataset,(function(t){return 0}),(function(r){return t.yScale(r[e])})).voronoi([75,0,this.width,this.height])}}),mounted:function(){this.isReady&&this.render()},watch:{dataIsReady:function(){this.isReady&&this.render()}},methods:{render:function(){var t=this;this.svg=g.Ys("#".concat(this.variableToVisualize," > #introViz")).append("svg").attr("width",this.svgWidth).attr("height",this.svgHeight).append("g").attr("transform","translate(".concat(this.margin.left,",").concat(this.margin.top,")")),this.svg.append("g").attr("class","axis y-axis").call(g.y4O(this.yScale)).style("transform","translateX(".concat(this.width/2,"px"));this.svg.append("g").attr("class","circle").selectAll("circle").data(this.dataset).enter().append("circle").attr("id",(function(t){return"intro_circle_".concat(t.iso)})).attr("cx","".concat(this.width/2+30,"px")).attr("cy",(function(e){return"nutrient"===t.variableToVisualize?t.yScale(e.nutrient):t.yScale(e.disease)})).attr("r",this.radius).attr("fill",(function(e){return"United States"===e.country?t.colorUSA:t.defaultCircleColor})).attr("stroke",this.defaultStrokeColor).attr("stroke-width",this.defaultStrokeWidth).attr("opacity",(function(e){return"United States"===e.country?t.fullOpacity:t.defaultOpacity}));this.svg.append("text").attr("x",this.width/2).attr("y",0-this.margin.top/2-30).attr("class","vizTitle").attr("text-anchor","middle").text("nutrient"===this.variableToVisualize?"grams of Milk per day</p>.":"Rheumatoid Arthritis prevalence per 100k.</p>"),this.addUsaDescription();this.svg.append("g").attr("class","y-voronoi").selectAll("path").data(this.dataset).join("path").attr("id",(function(t){return"intro_path_".concat(t.iso)})).attr("opacity",.5).attr("stroke","none").attr("fill","none").style("pointer-events","all").attr("d",(function(e,r){return t.voronoi.renderCell(r)})).on("mouseenter",(function(e,r){t.resetCircleStyle()})).on("mousemove",(function(e,r){t.onHover(e,r)})).on("mouseleave",(function(e,r){t.onMouseLeave()}))},addUsaDescription:function(){var t=this.dataset.filter((function(t){return"United States"===t.country}))[0],e=g.WUZ(",.0f"),r="nutrient"===this.variableToVisualize?'<p><span class="ttpCountry">'.concat(t.country,'</span> <span class="ttpDescription">Milk consumption is ').concat(t.nutrient," grams of per day</span></p>"):'<p><span class="ttpCountry">'.concat(t.country,'</span><span class="ttpDescription"> Rheumatoid Arthritis prevalence is ').concat(t.disease,' per 100k people</span></p>\n          </span>\n          <span  class="ttpDescription"> Approximately ').concat(e(t.disease/1e5*t.pop)," people in the United States are living with Rheumatoid Arthritis\n          </span>");g.Ys("#".concat(this.variableToVisualize)).select(".ttpUSA").style("display","block").style("top","nutrient"===this.variableToVisualize?"57%":"34%").style("left",(this.variableToVisualize,"55%")).html(r)},onHover:function(t,e){var r=g.WUZ(",.0f"),i="nutrient"===this.variableToVisualize?'<p><span class="ttpCountry">'.concat(e.country,'</span> <span class="ttpDescription">Milk consumption is ').concat(e.nutrient," grams of per day</span></p>"):'<p><span class="ttpCountry">'.concat(e.country,'</span> <span class="ttpDescription">Rheumatoid Arthritis prevalence is ').concat(e.disease,' per 100k people</span></p><p> <span class="ttpDescription">  Approximately ').concat(r(e.disease/1e5*e.pop)," people living with Rheumatoid Arthritis in ").concat(e.country,"\n                            </span></p>");g.Ys("#tooltip").style("left",t.pageX+20+"px").style("top",t.pageY-20+"px").html(i).style("display","block").transition().duration(300).style("opacity",1);var n=t.srcElement.id.split("_")[2];g.Ys("#".concat(this.variableToVisualize)).select("#intro_circle_".concat(n)).attr("fill",this.hoveredCircleFill).attr("opacity",1).attr("stroke",this.highlightedStrokeColor).attr("stroke-width",this.highlightedStrokeWidth).raise()},resetCircleStyle:function(){var t=this;g.Ys("#".concat(this.variableToVisualize)).select("#introViz").selectAll("circle").attr("fill",(function(e){return"United States"===e.country?t.colorUSA:t.defaultCircleColor})).attr("stroke",this.defaultStrokeColor).attr("stroke-width",this.defaultStrokeWidth).attr("opacity",(function(e){return"United States"===e.country?t.fullOpacity:t.defaultOpacity}))},onMouseLeave:function(){g.Ys("#tooltip").transition().duration(200).style("opacity",0).style("display","none"),this.resetCircleStyle()}}},ot=st;var ct=(0,m.Z)(ot,it,nt,!1,null,null,null);const lt=ct.exports,ut={name:"StorySlides",components:{Visualizations:rt,introSlidesViz:lt},data:function(){return{length:3,currentSlide:0}},computed:{},mounted:function(){2==this.currentSlide&&document.getElementById("projectTitle").classList.add("hide")},watch:{currentSlide:function(){document.getElementById("projectTitle").classList.remove("hide"),2==this.currentSlide&&document.getElementById("projectTitle").classList.add("hide")}},methods:{changeWindow:function(t,e){this.currentSlide=e},sideNavTooltip:function(t){return 1===t?"(Total) milk consumption":2===t?"Rheumatoid arthritis prevalence":"Explore the data"}}},dt=ut;var ht=r(247),pt=r(8215),gt=r(4622),vt=r(6924),ft=r(7864),yt=(0,m.Z)(dt,c,l,!1,null,null,null);const mt=yt.exports;S()(yt,{VBtn:b.Z,VCard:E.Z,VCol:w.Z,VContainer:ht.Z,VIcon:$.Z,VItem:pt.Z,VItemGroup:gt.Z,VRow:x.Z,VTooltip:q.Z,VWindow:vt.Z,VWindowItem:ft.Z});var _t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-footer",{staticStyle:{background:"#fff"},attrs:{id:"footer",padless:""}},[r("v-col",{staticClass:"text-left",staticStyle:{"font-size":"8pt",color:"#333"},attrs:{cols:"6"}},[t._v(" MS Data Visualization Thesis, Parsons School of Design, NYC ")]),r("v-col",{staticClass:"text-right",staticStyle:{"font-size":"9pt"},attrs:{cols:"6"}},[r("a",{attrs:{href:"mailto:yoana.kosturska@gmail.com"}},[t._v("Contact: Yoana Kosturska")]),t._v("   |   © 2022 ")])],1)},St=[];const bt={name:"Footer"},wt=bt;var kt=r(899),xt=(0,m.Z)(wt,_t,St,!1,null,null,null);const Ct=xt.exports;S()(xt,{VCol:w.Z,VFooter:kt.Z});const Rt={name:"App",components:{StorySides:mt,Footer:Ct},data:function(){return{dialog:!1}},computed:(0,s.Z)({},(0,o.rn)(["dataset","dataIsReady"])),mounted:function(){this.$store.dispatch("getCachedDataset"),this.$store.dispatch("wakeupDB"),this.$store.dispatch("getHealthFilters"),this.$store.dispatch("getNutritionFilters")},watch:{dialog:function(){this.dialog?document.getElementById("dotNav").classList.add("hide"):document.getElementById("dotNav").classList.remove("hide")}}},Zt=Rt;var Ot=r(7524),Vt=r(426),zt=r(7877),At=(0,m.Z)(Zt,n,a,!1,null,null,null);const Tt=At.exports;S()(At,{VApp:Ot.Z,VAppBar:Vt.Z,VMain:zt.Z});r(1058);var Pt=r(9669),Yt=r.n(Pt);i.Z.use(o.ZP);const Bt=new o.ZP.Store({state:{dataset:Object,dataIsReady:!1,selectedPlotPoint:Object,filters:{healthFilters:Object,nutritionFilters:Object},current_state:{data_load_progress:0,nutrient:{value:57,label:"Total Milk",serving_size:"grams per day",food_group:"Beverages"},disease:{value:627,label:"Rheumatoid arthritis",parent_id:626,parent_name:"Musculoskeletal disorders",level:3},country:"United States",size:{value:null,label:"Don't Size"},selected_region:["Africa","Asia","Europe","Latin America and the Caribbean","Northern America","Oceania"],regression_line:!1,hovered_region:!1},color_code:["#93C5F1","#f9c74f","#43aa8b","#B79AD1","#f94144","#dfa3a3"]},getters:{get_country_list:function(t){if(t.dataIsReady)return at.jg(t.dataset,"country")},get_region_list:function(t){if(t.dataIsReady)return at.MR(at.Tw(at.jg(t.dataset,"region")))}},mutations:{saveCachedData:function(t,e){t.dataset=e.dataset.data,t.dataIsReady=e.dataIsReady,t.current_state.data_load_progress=100},saveDataLoadProgress:function(t,e){t.current_state.data_load_progress=e.data_load_progress},saveData:function(t,e){t.dataset=e.dataset.data,t.dataIsReady=e.dataIsReady},saveHealthFilters:function(t,e){t.filters.healthFilters=e.healthFilters},saveNutritionFilters:function(t,e){t.filters.nutritionFilters=e.nutritionFilters},updateSelectedPlotPoint:function(t,e){t.selectedPlotPoint=e.selectedPlotPoint},saveSelectedState:function(t,e){t.current_state[e.stateToSave]=e.selected}},actions:{getCachedDataset:function(t,e){var r=t.commit,i=(t.state,"data/data_cached.json");return Yt().get(i).then((function(t){r("saveCachedData",{dataset:t.data,dataIsReady:!0})}))},wakeupDB:function(t,e){t.commit,t.state;var r="https://dvthesis.herokuapp.com/";return Yt().get(r)},getDataset:function(t,e){var r=t.commit,i=t.state,n="https://dvthesis.herokuapp.com/relationships?";return r("saveDataLoadProgress",{data_load_progress:0}),Yt().get(n,{params:{nutrient_id:i.current_state.nutrient.value,disease_id:i.current_state.disease.value},onDownloadProgress:function(t){var e=parseInt(Math.round(100*t.loaded/t.total));r("saveDataLoadProgress",{data_load_progress:e})}}).then((function(t){r("saveData",{dataset:t.data,dataIsReady:!0})}))["catch"]((function(t){console.log(t)}))},getHealthFilters:function(t,e){var r=t.commit,i=t.dispatch;return Yt().get("data/health_filters_curated.json").then((function(t){return i("addMenuHeaders",{data:t.data,groupKey:"parent_name"})})).then((function(t){r("saveHealthFilters",{healthFilters:t,dataIsReady:!0})}))["catch"]((function(t){console.log(t)}))},getNutritionFilters:function(t,e){var r=t.commit,i=t.dispatch;return Yt().get("data/nutrition_filters.json").then((function(t){return i("addMenuHeaders",{data:t.data,groupKey:"food_group"})})).then((function(t){r("saveNutritionFilters",{nutritionFilters:t,dataIsReady:!0})}))["catch"]((function(t){console.log(t)}))},addMenuHeaders:function(t,e){t.commit,t.state;var r=e.data,i=e.groupKey,n=[];return at.tS(r).groupBy(i).mapObject((function(t,e){n.push({header:e}),t=at.MR(t,"label"),at.S6(t,(function(t){n.push(t)}))})).value(),n}}});var Dt=r(9132);i.Z.use(Dt.Z);const It=new Dt.Z({});i.Z.config.productionTip=!1,new i.Z({store:Bt,vuetify:It,render:function(t){return t(Tt)}}).$mount("#app")}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,r),a.exports}r.m=t,(()=>{var t=[];r.O=(e,i,n,a)=>{if(!i){var s=1/0;for(u=0;u<t.length;u++){for(var[i,n,a]=t[u],o=!0,c=0;c<i.length;c++)(!1&a||s>=a)&&Object.keys(r.O).every((t=>r.O[t](i[c])))?i.splice(c--,1):(o=!1,a<s&&(s=a));if(o){t.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[i,n,a]}})(),(()=>{r.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return r.d(e,{a:e}),e}})(),(()=>{r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{r.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{var t={143:0};r.O.j=e=>0===t[e];var e=(e,i)=>{var n,a,[s,o,c]=i,l=0;if(s.some((e=>0!==t[e]))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(c)var u=c(r)}for(e&&e(i);l<s.length;l++)a=s[l],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(u)},i=self["webpackChunkthesis"]=self["webpackChunkthesis"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var i=r.O(void 0,[998],(()=>r(1366)));i=r.O(i)})();
//# sourceMappingURL=app.1569bd96.js.map